(this.webpackJsonpscroll=this.webpackJsonpscroll||[]).push([[0],{10:function(t,e,a){t.exports=a(17)},15:function(t,e,a){},16:function(t,e,a){},17:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),i=a(9),r=a.n(i),o=(a(15),a(16),a(7)),h=a(1),l=a(2),c=a(5),u=a(4),m=a(3),d=a(6),p=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={isShown:!1},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"item",style:{top:this.props.top,height:this.props.itemheight},onMouseEnter:function(){return t.setState({isShown:!0})},onMouseLeave:function(){return t.setState({isShown:!1})}},n.a.createElement("span",null,this.props.label),n.a.createElement("span",null,"Created by Exton Parson"),n.a.createElement("span",null,"Last Modified Jan 17, 2020"),n.a.createElement("div",{className:"buttons",style:{display:this.state.isShown?"block":"none"}},n.a.createElement("button",null,"Add"),n.a.createElement("button",null,"Edit"),n.a.createElement("button",null,"X")))}}]),e}(n.a.Component),v=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).dataLength=1e3,a.renderedItemsRange=30,a.numVisibleItems=Math.trunc(500/a.props.itemheight),a.state={start:0,end:a.numVisibleItems,data:[]},a.map=new Map,a.timerIds=[],a.loadData(a.state.start,a.state.end),a.containerStyle={height:a.dataLength*a.props.itemheight},a.scollPos=a.scollPos.bind(Object(m.a)(a)),a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"scollPos",value:function(){var t=Math.trunc(this.refs.viewPort.scrollTop/this.props.itemheight);(t=t-this.numVisibleItems>=this.dataLength?t-this.numVisibleItems:t)!==this.state.start&&this.setState(Object(o.a)({},this.state,{start:t,end:t+this.numVisibleItems>this.dataLength-1?this.dataLength-1:t+this.numVisibleItems}))}},{key:"loadData",value:function(t,e){t=t-this.renderedItemsRange<0?0:t-this.renderedItemsRange,e=e+this.renderedItemsRange>this.dataLength?this.dataLength-1:e+this.renderedItemsRange,this.getDataFromMap(t,e),this.isRequestRequered?this.getDataFromServer(t,e):this.abortRequests()}},{key:"getDataFromServer",value:function(t,e){var a=this;this.abortRequests();var s=setTimeout((function(){for(var s=[],n=t;n<=e;n++){var i={name:"Row ".concat(n),id:n};s.push(i),a.map.set(n,i)}console.log("data  from server",s),a.setState(Object(o.a)({},a.state,{data:s}))}),500);this.timerIds.push(s)}},{key:"abortRequests",value:function(){this.timerIds.map((function(t){return clearInterval(t)}))}},{key:"getDataFromMap",value:function(t,e){for(var a=!1,s=[],n=t;n<=e;n++){this.map.has(n)||(a=!0);var i=this.map.get(n)||{name:"Row",id:n};s.push(i)}this.setState(Object(o.a)({},this.state,{data:s})),this.isRequestRequered=a}},{key:"renderRows",value:function(){for(var t=this,e=[],a=function(a){var s=t.state.data.find((function(t){return t.id===a}));s&&e.push(n.a.createElement(p,{key:a,label:s.name,top:a*t.props.itemheight,itemheight:t.props.itemheight}))},s=this.state.start-this.renderedItemsRange;s<this.state.end+this.renderedItemsRange;s++)a(s);return e}},{key:"componentDidUpdate",value:function(t,e){e.start===this.state.start&&e.end===this.state.end||this.loadData(this.state.start,this.state.end)}},{key:"render",value:function(){return n.a.createElement("div",{ref:"viewPort",className:"viewPort",onScroll:this.scollPos},n.a.createElement("div",{className:"itemContainer",style:this.containerStyle},this.state.data.length?this.renderRows():null))}}]),e}(n.a.Component);var g=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(v,{itemheight:55}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.0cce7d5f.chunk.js.map